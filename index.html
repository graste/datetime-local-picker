<!DOCTYPE html>
<html lang="de" dir="ltr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>datetime-local-picker</title>
    <link rel="stylesheet" type="text/css" href="styles/main.css" />
<style>
body, label {
    color: white;
}
input {
    width: 20em;
}
.is-invalid {
    outline: 2px solid red;
}
.dtp {
    color: black;
}
</style>
</head>
<body>

<h1>datetime-local-picker</h1>

<div class="dtp" touch-action="scroll">
    <label for="publishDate" class="dtp__label">Publish date:</label>
    <input type="text"
        name="publishDate"
        value="2015-01-15T12:42:23.789+00:00"
        data-value-formatted="Donnerstag, 15. Januar 2015 12:42:23.789"
        class="dtp__output"
        id="publishDate"
    >
    <button class="dtp__trigger" id="publishDateTrigger">trigger</button>
    <div class="dtp__container" id="publishDatePickerContainer">
    </div>
</div>
<div id="output"></div>

<script src="bower_components/pointerevents-polyfill/pointerevents.min.js"></script>
<script src="bower_components/requirejs/require.js"></script>
<script>

require.config({
    baseUrl: './',
    urlArgs: "cb=" + (+new Date()),
    enforceDefine: true,
    paths: {
        'jquery': 'bower_components/jquery/dist/jquery.min',
        'lodash': 'bower_components/lodash/dist/lodash.min',
        'moment': 'bower_components/moment/min/moment-with-locales.min',
        'ldsh':   'bower_components/lodash-template-loader/loader'
    },
    lodashLoader: {
        ext: ".html",
        root: "src/",
        templateSettings: {}
    }
});

require([
    'src/DatetimeLocalPicker',
    'ldsh!calendar.tmpl'
], function(dtlp, calendar_tmpl) {
    var picker = new dtlp({
        inputElement: '#publishDate',
        triggerElement: '#publishDateTrigger',
        containerElement: '#publishDatePickerContainer',
        locale: $('html').attr('lang'),
        //direction: $('html').attr('dir'),
        minWeeksPerMonth: 6,
        //numberOfMonths: 2,
        /*numberOfMonths: {
            before: 0,
            after: 23
        },*/
        disableWeekends: true,
        constraints: {
            minDate: new Date('2015-01-14'),
            maxDate: new Date('2015-05-14')
        },
        templates: {
            calendar: calendar_tmpl,
            test: '<%- omg %>'
        },
        debug: false
    });

    foo = picker;
});

</script>

</body>
</html>
